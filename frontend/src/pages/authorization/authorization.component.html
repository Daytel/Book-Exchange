<p>authorization works!</p>
<div class="auth-container">
    <h1 class="title">{{ mode === 'login' ? 'Авторизация' : 'Регистрация' }}</h1>
    
    <div class="toggle-mode">
        <button class="btn btn-toggle" [ngClass]="{'active': mode === 'login'}" (click)="setMode('login')">Вход</button>
        <button class="btn btn-toggle" [ngClass]="{'active': mode === 'register'}" (click)="setMode('register')">Регистрация</button>
    </div>

    <div *ngIf="mode === 'login'">
        <form class="form" [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
            <div class="form-field">
                <input type="email" placeholder=" " formControlName="email" required>
                <span class="label">Email</span>
                <div *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid" class="error">
                    {{ loginForm.get('email')?.hasError('required') ? 'Email обязателен' : 'Введите корректный email' }}
                </div>
            </div>
            
            <div class="form-field">
                <input type="password" placeholder=" " formControlName="password" required maxlength="15">
                <span class="label">Пароль</span>
                <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="error">
                    Пароль обязателен
                </div>
            </div>
            
            <div class="form-field">
                <button class="btn btn-submit" type="submit" [disabled]="loginForm.invalid">Войти</button>
            </div>
        </form>
    </div>

    <div *ngIf="mode === 'register'">
        <form class="form" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
            <div class="form-field">
                <input type="text" placeholder=" " formControlName="firstName" required>
                <span class="label">Имя</span>
                <div *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid" class="error">
                    Имя обязательно
                </div>
            </div>
            
            <div class="form-field">
                <input type="text" placeholder=" " formControlName="lastName" required>
                <span class="label">Фамилия</span>
                <div *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid" class="error">
                    Фамилия обязательна
                </div>
            </div>
            
            <div class="form-field">
                <input type="text" placeholder=" " formControlName="secondName">
                <span class="label">Отчество</span>
            </div>
            
            <div class="form-field">
                <input type="email" placeholder=" " formControlName="email" required>
                <span class="label">Email</span>
                <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" class="error">
                    {{ registerForm.get('email')?.hasError('required') ? 'Email обязателен' : 'Введите корректный email' }}
                </div>
            </div>
            
            <div class="form-field">
                <input type="text" placeholder=" " formControlName="userName" required>
                <span class="label">Имя пользователя</span>
                <div *ngIf="registerForm.get('userName')?.touched && registerForm.get('userName')?.invalid" class="error">
                    Имя пользователя обязательно
                </div>
            </div>
            
            <div class="form-field">
                <input type="password" placeholder=" " formControlName="password" required maxlength="15">
                <span class="label">Пароль</span>
                <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="error">
                    Пароль обязателен
                </div>
            </div>
            
            <div class="form-field">
                <input type="password" placeholder=" " formControlName="confirmPassword" required maxlength="15">
                <span class="label">Подтверждение пароля</span>
                <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid" class="error">
                    Подтверждение пароля обязательно
                </div>
                <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched" class="error">
                    Пароли не совпадают
                </div>
            </div>
            
            <div class="form-field">
                <button class="btn btn-submit" type="submit" [disabled]="registerForm.invalid">Зарегистрироваться</button>
            </div>
        </form>
    </div>
</div>